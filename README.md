# Covid NZ QR Code Generator

<img src="example.png" alt="fake covid qr code" width="400"/>

## Background

The official NZ COVID QR codes are available only to businesses that apply for them.
This is all well and good, but what if you want to make your own, like the one at the top of this README?
Well, now you can!

The NZ COVID Tracing app will not scan *any* QR code, it must be formatted in a specific way.
Firstly, the QR code must contain a json string containing the following fields.
Note that the app doesn't appear to verify any of these inputs.
Some of the fields don't appear to do anything, but they will affect how the QR code looks.

| Field | Meaning |
| --- | --- |
| gin | This is the global identifier number. This is something that businesses have to apply for. Anything can be entered for this and it will show up in the app |
| ver | Might be a revision number. Right now, it is c19:1 (COVID19:??). This is basically meaningless |
| typ | The type of scan. Every QR code I've seen has this set to `entry` |
| opn | The place name which shows up on the poster and when you scan the code. This would typically be a business's name |
| adr | The address. This also shows on the poster and can be viewed in the in-app diary |

## Running the code

A QR code can be generated by running the `gen_qr_code.py` script.
This requires some libraries to run, which can be done with:

```shell
python3 -m venv .
. bin/activate
pip install -r requirements
```

After that is done, you can run it with:

```shell
python gen_qr_code.py
```

The code will prompt you for a few inputs:

- global location number: either enter your own value or press enter to accept the default
- place name: enter the name of the place, using \n to represent a new line
- address: enter the address of the place, using \n to represent a new line
- generate a poster: enter `y` (or simply press enter) to generate a poster, otherwise enter `n` to just save the code
- title: either enter the title for the poster or press enter to use the place name (with line breaks replaced with `, `)
- subtitle: either enter the subtitle for the poster or press enter to use the address (with line breaks replaced with `, `)
